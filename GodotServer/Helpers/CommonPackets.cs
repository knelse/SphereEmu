using static SphServer.Helpers.BitHelper;

namespace SphServer.Helpers
{

    public static class CommonPackets
    {
        public static readonly byte[]
            ReadyToLoadInitialData = { 0x0A, 0x00, 0xC8, 0x00, 0x14, 0x05, 0x00, 0x00, 0x1F, 0x42 };

        public static readonly byte[]
            ReadyToLoadInitialDataReconnect = { 0x0A, 0x00, 0xC8, 0x00, 0x94, 0x05, 0x00, 0x00, 0x2F, 0x64 };

        public static readonly byte[]
            TransmissionEndPacket = { 0x04, 0x00, 0xF4, 0x01 };

        public static byte[] ServerCredentials(ushort playerIndex)
        {
            var currentSphereTime = TimeHelper.EncodeCurrentSphereDateTime();

            return new byte[]
            {
                0x38, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex), MinorByte(playerIndex), 0x08, 0x40, 
                0x20, 0x10, currentSphereTime[0], currentSphereTime[1], currentSphereTime[2], currentSphereTime[3], 
                currentSphereTime[4], 0x7C, 0x12, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x3B, 
                0x12, 0x01, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x8D, 0x9D, 0x01, 0x00, 0x00, 0x00
            };
        }

        public static byte[] CharacterSelectStartData(ushort playerIndex) =>
            new byte[]
            {
                0x52, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex), MinorByte(playerIndex), 0x08, 0x40, 
                0x80, 0x10, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00
            };

        public static byte[] CreateNewCharacterData(ushort playerIndex) =>
            new byte[]
            {
                0x6C, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex), MinorByte(playerIndex), 0x08, 0x40, 
                0x60, 0x79, 0x91, 0x01, 0x90, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0xC8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC8, 0x00, 0x90, 0x01, 0x90, 0x01, 0x10, 0x00, 0x10, 0x00, 
                0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
                0x00, 0x00, 0x00, 0xFC, 0xFF, 0xFF, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00
            };

        public static byte[] AccountOutdated(ushort playerIndex) =>
            new byte[]
            {
                0x0E, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0x40, 0xC0, 0x01, 0x00
            };

        public static byte[] NameAlreadyExists(ushort playerIndex) =>
            new byte[]
            {
                0x0E, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0x40, 0x00, 0x01, 0x00
            };

        public static byte[] NameCheckPassed(ushort playerIndex) =>
            new byte[]
            {
                0x0E, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0x40, 0x80, 0x00, 0x00
            };

        public static byte[] AccountAlreadyInUse(ushort playerIndex) =>
            new byte[]
            {
                0x0E, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0x40, 0xA0, 0x00, 0x00
            };

        public static byte[] ClientInvulnerableEffect(ushort playerIndex) =>
            new byte[]
            {
                0x14, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0xC0, 0x42, 0x60, 0xFE, 0xD3, 0x90, 0x10, 0xB0, 0x17, 0x00
            };

        public static byte[] SixSecondPing(ushort playerIndex) =>
            new byte[]
            {
                0x13, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0xC0, 0x42, 0xA0, 0xFF, 0xD3, 0x90, 0x08, 0xB0, 0x07
            };

        public static byte[] FifteenSecondPing(ushort playerIndex) =>
            new byte[]
            {
                0x10, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x04, MajorByte(playerIndex),
                MinorByte(playerIndex), 0x08, 0x40, 0x81, 0x93, 0xEE, 0xE4, 0x08
            };
    }
}